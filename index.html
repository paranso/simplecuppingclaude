
    <!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Cupping Form</title>

    <!-- React¬∑Tailwind Îì± Í∏∞Ï°¥ ÏùòÏ°¥ÏÑ±Îì§ -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Ï∂îÍ∞ÄÌïú CSS: Android Ìè¨Ïª§Ïä§ Ïä§ÌÅ¨Î°§ Î∞©ÏßÄ -->
    <link rel="stylesheet" href="fix-android-focus.css">
    
    <!-- (Í∏∞Ï°¥Ïóê <style> ÏïàÏóê ÏûàÎçò Í∏∞ÌÉÄ Ïä§ÌÉÄÏùºÎì§ÏùÄ Í∑∏ÎåÄÎ°ú ÎëêÏÖîÎèÑ ÎêòÍ≥†,
         Íº≠ ÏõêÏπò ÏïäÏúºÏãúÎ©¥ ÏÇ≠Ï†úÌïòÏÖîÎèÑ Îê©ÎãàÎã§.) -->
    <style>
        /* ‚Ä¶Í∏∞Ï°¥ Í∏ÄÎûòÏä§Î™®ÌîºÏ¶ò, Ïä¨ÎùºÏù¥Îçî Ïª§Ïä§ÌÖÄ, Í∑∏ÎùºÎç∞Ïù¥ÏÖò Îì± Î™®Îì† Ïä§ÌÉÄÏùº‚Ä¶ */
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
    <script type="text/babel">
        const { useState, useEffect } = React;

        // Google Apps Script URL - ÏµúÏ¢Ö Ïó∞Í≤∞ ÏôÑÎ£å!
        const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyu9ZJznYRFk8PR2GYIKJVnMlgwjENq_Nv_h7Kgtaa-5EtVQElkBpTd2NNObl7iaj21/exec';

        const SimpleCuppingForm = () => {
            // ÏÉÅÌÉú Í¥ÄÎ¶¨
            const initialFormData = {
                roastingDate: '', cuppingDate: '', userId: '', coffeeName: '', dropTime: '', agtronNumber: ''
            };
            const initialScores = { aroma: 8, acidity: 8, sweetness: 8, body: 8, aftertaste: 8 };
            const initialCustomNotes = { ÍΩÉ: '', Í≥ºÏùºÎ•ò: '', ÌóàÎ∏å: '', Í≤¨Í≥ºÎ•ò: '', Ï∫êÎü¨Î©ú: '', Ï¥àÏΩúÎ¶ø: '', ÎîîÌéôÌä∏: '' };

            const [formData, setFormData] = useState(initialFormData);
            const [scores, setScores] = useState(initialScores);
            const [selectedAromas, setSelectedAromas] = useState([]);
            const [expandedCategory, setExpandedCategory] = useState(null);
            const [notes, setNotes] = useState('');
            const [customNotes, setCustomNotes] = useState(initialCustomNotes);
            const [roastingNotes, setRoastingNotes] = useState('');

            const [isSubmitting, setIsSubmitting] = useState(false);
            const [statusMessage, setStatusMessage] = useState('');
            const [showSummary, setShowSummary] = useState(false);
            const [summaryData, setSummaryData] = useState(null);

            // ÏïàÎìúÎ°úÏù¥Îìú Î∏åÎùºÏö∞Ï†Ä Ìò∏ÌôòÏÑ±ÏùÑ ÏúÑÌïú useEffect
            useEffect(() => {
                // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ìè¨Ïª§Ïä§ Ï†úÍ±∞
                if (document.activeElement && document.activeElement.blur) {
                    document.activeElement.blur();
                }
                
                // ÏïàÎìúÎ°úÏù¥ÎìúÏóêÏÑú ÏûêÎèô Ï§å Î∞©ÏßÄ
                const viewport = document.querySelector('meta[name=viewport]');
                if (viewport) {
                    viewport.content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no';
                }
            }, []);

            const aromaWheel = {
                'ÍΩÉ': ['Ïû•ÎØ∏', 'ÏûêÏä§ÎØº', 'ÎùºÏùºÎùΩ', 'Ïª§ÌîºÎ∏îÎùºÏç∏', 'Ïò§Î†åÏßÄÍΩÉ'],
                'Í≥ºÏùºÎ•ò': ['Í∞êÍ∑§Î•ò(Ïò§Î†åÏßÄ/Î†àÎ™¨)', 'Î≤†Î¶¨Î•ò', 'Ïó¥ÎåÄÍ≥ºÏùº', 'ÏÇ¨Í≥º/Î∞∞', 'ÏûêÎëê/Ï≤¥Î¶¨'],
                'ÌóàÎ∏å': ['ÎØºÌä∏', 'Ï∫êÎ™®ÎßàÏùº', 'ÎùºÎ≤§Îçî', 'Î°úÏ¶àÎßàÎ¶¨', 'ÌÉÄÏûÑ'],
                'Í≤¨Í≥ºÎ•ò': ['ÏïÑÎ™¨Îìú', 'Ìó§Ïù¥Ï¶êÎÑõ', 'ÌîºÏπ∏', 'ÎïÖÏΩ©', 'Ìò∏Îëê'],
                'Ï∫êÎü¨Î©ú': ['ÌùëÏÑ§ÌÉï', 'Î≤ÑÌÑ∞Ïä§Ïπ¥Ïπò', 'Î©îÏù¥ÌîåÏãúÎüΩ', 'ÌÜ†Ìîº', 'Ï∫îÎîî'],
                'Ï¥àÏΩúÎ¶ø': ['Îã§ÌÅ¨Ï¥àÏΩúÎ¶ø', 'Î∞ÄÌÅ¨Ï¥àÏΩúÎ¶ø', 'ÏΩîÏΩîÏïÑ', 'Ï¥àÏΩúÎ¶øÏãúÎüΩ', 'Î™®Ïπ¥'],
                'ÎîîÌéôÌä∏': ['Ïñ∏Îçî', 'Ïò§Î≤Ñ', 'Î≤†Ïù¥ÌÅ¨Îìú', 'Î™∞Îîî', 'Î©îÌÉàÎ¶≠', 'Í≥ºÎ∞úÌö®']
            };

            const scoreLabels = { aroma: 'Ìñ•', acidity: 'ÏÇ∞ÎØ∏', sweetness: 'Îã®Îßõ', body: 'Î∞îÎîîÍ∞ê', aftertaste: 'ÌõÑÎØ∏' };
            const scoreDescriptions = {
                aroma: 'Fragrance(Î∂ÑÏáÑÌñ•) / Aroma(ÏäµÏãùÌñ•)', 
                acidity: 'Ïã†ÎßõÏùò Ï†ïÎèÑÏôÄ ÌäπÏÑ±',
                sweetness: 'ÏûêÏó∞Ïä§Îü¨Ïö¥ Îã®Îßõ', 
                body: 'ÏûÖÏïàÏùò Î¨¥Í≤åÍ∞ê/ÏßàÍ∞ê', 
                aftertaste: 'Í∏çÏ†ïÏ†Å Îßõ/Ìñ•Ïùò ÏßÄÏÜçÏÑ±'
            };

            // Ìï∏Îì§Îü¨ Ìï®ÏàòÎì§
            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
            };

            const handleScoreChange = (category, value) => {
                setScores(prev => ({ ...prev, [category]: parseInt(value) }));
            };

            const handleCategoryClick = (category) => {
                setExpandedCategory(expandedCategory === category ? null : category);
            };

            const handleAromaSelectWithScroll = (aroma, e) => {
                e.preventDefault();
                e.stopPropagation();
                setSelectedAromas(prev =>
                    prev.includes(aroma) ? prev.filter(a => a !== aroma) : [...prev, aroma]
                );
                // ÏïàÎìúÎ°úÏù¥ÎìúÏóêÏÑú Ïä§ÌÅ¨Î°§ Î∞©ÏßÄ
                if (e.target && e.target.blur) {
                    e.target.blur();
                }
            };

            const handleCustomNotesChange = (category, value) => {
                setCustomNotes(prev => ({ ...prev, [category]: value }));
            };

            // Ï∂îÏ≤ú ÏãúÏä§ÌÖú (15Îã®Í≥Ñ Í∏∞Ï§Ä)
            const getRecommendation = () => {
                let recommendations = [];
                if (scores.acidity > 10) recommendations.push("ÏÇ∞ÎØ∏ Í∞ïÌï®: Î°úÏä§ÌåÖ Ïò®ÎèÑ ÏïΩÍ∞Ñ ÏÉÅÏäπ Í≥†Î†§.");
                if (scores.body < 6) recommendations.push("Î∞îÎîîÍ∞ê Î∂ÄÏ°±: ÎîîÎ≤®Î°≠ ÏãúÍ∞Ñ Ï¶ùÍ∞Ä Í≥†Î†§.");
                if (scores.sweetness < 6) recommendations.push("Îã®Îßõ Î∂ÄÏ°±: Ï≤´ ÌÅ¨Îûô ÌõÑ ÏãúÍ∞Ñ Ï¶ùÍ∞Ä Í≥†Î†§.");
                if (scores.aroma < 6) recommendations.push("Ìñ• Î∂ÄÏ°±: Ï†ÑÍ∞ú ÏãúÍ∞Ñ Ï°∞Ï†ï Í≥†Î†§.");
                if (scores.aftertaste < 6) recommendations.push("ÌõÑÎØ∏ Î∂ÄÏ°±: ÎßàÎ¨¥Î¶¨ Ïò®ÎèÑ Ï°∞Ï†ï Í≥†Î†§.");
                return recommendations.length > 0 ? recommendations.join(' ') : "Í∑†Ìòï Ïû°Ìûå ÌîÑÎ°úÌååÏùºÏûÖÎãàÎã§.";
            };

            // Ìñ•ÎØ∏ Îç∞Ïù¥ÌÑ∞Î•º ÍπîÎÅîÌïòÍ≤å Ìè¨Îß∑ÌåÖÌïòÎäî Ìï®Ïàò
            const formatAromaData = () => {
                let aromaData = '';
                let notesData = '';
                
                // ÏÑ†ÌÉùÎêú Ìñ•ÎØ∏Î•º Ïπ¥ÌÖåÍ≥†Î¶¨Î≥ÑÎ°ú Î∂ÑÎ•ò
                const categorizedAromas = {};
                Object.keys(aromaWheel).forEach(category => {
                    const categoryAromas = selectedAromas.filter(aroma => 
                        aromaWheel[category].includes(aroma)
                    );
                    if (categoryAromas.length > 0) {
                        categorizedAromas[category] = categoryAromas;
                    }
                });
                
                // ÏÑ†ÌÉùÎêú Ìñ•ÎØ∏ Ìè¨Îß∑ÌåÖ
                Object.entries(categorizedAromas).forEach(([category, aromas]) => {
                    aromaData += `[${category}] ${aromas.join(', ')}\n`;
                });
                
                // Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Î©îÎ™® Ìè¨Îß∑ÌåÖ
                Object.entries(customNotes).forEach(([category, note]) => {
                    if (note.trim()) {
                        notesData += `[${category}] ${note.trim()}\n`;
                    }
                });
                
                return {
                    formattedAromas: aromaData.trim(),
                    formattedNotes: notesData.trim()
                };
            };

            // Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• Ìï®Ïàò
            const handleSave = async () => {
                if (!APPS_SCRIPT_URL || APPS_SCRIPT_URL === 'Ïó¨Í∏∞Ïóê_Î≥µÏÇ¨Ìïú_Apps_Script_Ïõπ_Ïï±_URL_Î∂ôÏó¨ÎÑ£Í∏∞') {
                    setStatusMessage('‚ö†Ô∏è Google Apps Script URLÏù¥ ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.');
                    setShowSummary(false);
                    return;
                }
                if (isSubmitting) return;

                setIsSubmitting(true);
                setStatusMessage('üíæ Ï†ÄÏû• Ï§ë...');
                setShowSummary(false);

                const recommendation = getRecommendation();
                const { formattedAromas, formattedNotes } = formatAromaData();

                const dataToSend = {
                    roastingDate: formData.roastingDate,
                    cuppingDate: formData.cuppingDate,
                    userId: formData.userId,
                    coffeeName: formData.coffeeName,
                    dropTimeTemp: formData.dropTime,
                    agtron: formData.agtronNumber,
                    aromaScore: scores.aroma,
                    acidityScore: scores.acidity,
                    sweetnessScore: scores.sweetness,
                    bodyScore: scores.body,
                    aftertasteScore: scores.aftertaste,
                    detectedFlavors: formattedAromas,
                    detailedAromaNotes: formattedNotes,
                    additionalNotes: notes,
                    roastingNotes: roastingNotes,
                    roastingRecommendation: recommendation
                };

                try {
                    const response = await fetch(APPS_SCRIPT_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'text/plain;charset=utf-8' },
                        body: JSON.stringify(dataToSend)
                    });

                    if (!response.ok) {
                        throw new Error(`ÏÑúÎ≤Ñ ÏùëÎãµ Ïò§Î•ò: ${response.status} ${response.statusText}`);
                    }

                    const result = await response.json();

                    if (result.status === 'success') {
                        setStatusMessage('‚úÖ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§!');
                        setSummaryData({
                            ...formData,
                            ...scores,
                            selectedAromas: selectedAromas,
                            notes: notes,
                            customNotes: customNotes,
                            roastingNotes: roastingNotes,
                            recommendation: recommendation
                        });
                        setShowSummary(true);
                    } else {
                        setStatusMessage('‚ùå Ï†ÄÏû• Ïã§Ìå®: ' + (result.message || 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'));
                        setShowSummary(false);
                    }
                } catch (error) {
                    console.error('Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• Ï§ë Ïò§Î•ò Î∞úÏÉù:', error);
                    setStatusMessage(`‚ùå Ïò§Î•ò Î∞úÏÉù: ${error.message}`);
                    setShowSummary(false);
                } finally {
                    setIsSubmitting(false);
                }
            };

            // Ìèº Ï¥àÍ∏∞Ìôî
            const resetForm = () => {
                setFormData(initialFormData);
                setScores(initialScores);
                setSelectedAromas([]);
                setExpandedCategory(null);
                setNotes('');
                setCustomNotes(initialCustomNotes);
                setRoastingNotes('');
                setShowSummary(false);
                setStatusMessage('');
            };

            // Í≤∞Í≥º ÏöîÏïΩ Ïª¥Ìè¨ÎÑåÌä∏
            const ResultSummary = ({ data }) => {
                if (!data) return null;

                return (
                    <div className="mt-8 glass rounded-2xl p-6 slide-up border-l-4 border-sage-green">
                        <h2 className="text-xl font-bold mb-4 text-sage-green flex items-center">
                            <span className="mr-2">üìã</span>
                            Ï†ÄÏû•Îêú Í≤∞Í≥º ÏöîÏïΩ
                        </h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div className="space-y-2">
                                <p><strong className="text-forest-green">Î°úÏä§ÌåÖ ÎÇ†Ïßú:</strong> {data.roastingDate}</p>
                                <p><strong className="text-forest-green">Ïª§Ìïë ÎÇ†Ïßú:</strong> {data.cuppingDate}</p>
                                <p><strong className="text-forest-green">Ïù¥Î¶Ñ/ID:</strong> {data.userId}</p>
                                <p><strong className="text-forest-green">Ïª§ÌîºÎ™Ö:</strong> {data.coffeeName}</p>
                                <p><strong className="text-forest-green">Î∞∞Ï∂úÏãúÍ∞Ñ/Ïò®ÎèÑ:</strong> {data.dropTime}</p>
                                <p><strong className="text-forest-green">Agtron#:</strong> {data.agtronNumber}</p>
                            </div>
                            
                            <div>
                                <h4 className="font-semibold text-forest-green mb-2">ÌèâÍ∞Ä Ï†êÏàò (15Îã®Í≥Ñ)</h4>
                                <div className="space-y-1">
                                    {Object.entries(scoreLabels).map(([key, label]) => (
                                        <div key={key} className="flex justify-between">
                                            <span>{label}:</span>
                                            <span className="font-semibold text-sage-green">{data[key]}/15</span>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                        
                        {data.selectedAromas && data.selectedAromas.length > 0 && (
                            <div className="mt-4 pt-4 border-t">
                                <h4 className="font-semibold text-forest-green mb-2">Í∞êÏßÄÎêú Ìñ•ÎØ∏:</h4>
                                <div className="flex flex-wrap gap-1">
                                    {data.selectedAromas.map(aroma => (
                                        <span key={aroma} className="px-2 py-1 bg-green-100 text-sage-green rounded-full text-xs">
                                            {aroma}
                                        </span>
                                    ))}
                                </div>
                            </div>
                        )}
                        
                        {(data.notes || data.roastingNotes) && (
                            <div className="mt-4 pt-4 border-t">
                                {data.notes && (
                                    <div className="mb-3">
                                        <h4 className="font-semibold text-forest-green mb-2">üìù Ï∂îÍ∞Ä Î©îÎ™®:</h4>
                                        <p className="text-sm text-gray-700 bg-gray-50 p-3 rounded-lg">{data.notes}</p>
                                    </div>
                                )}
                                {data.roastingNotes && (
                                    <div>
                                        <h4 className="font-semibold text-forest-green mb-2">üî• Î°úÏä§ÌåÖ ÎÖ∏Ìä∏:</h4>
                                        <p className="text-sm text-gray-700 bg-gray-50 p-3 rounded-lg">{data.roastingNotes}</p>
                                    </div>
                                )}
                            </div>
                        )}
                        
                        {data.recommendation && (
                            <div className="mt-4 pt-4 border-t bg-green-50 rounded-lg p-3">
                                <h4 className="font-semibold text-forest-green mb-1">üéØ ÏûêÎèô Ï∂îÏ≤ú:</h4>
                                <p className="text-sm text-gray-700">{data.recommendation}</p>
                            </div>
                        )}
                        
                        <button
                            onClick={() => setShowSummary(false)}
                            className="mt-4 px-4 py-2 bg-sage-green text-white text-sm rounded-lg hover:bg-forest-green transition-colors"
                        >
                            ÏöîÏïΩ Îã´Í∏∞
                        </button>
                    </div>
                );
            };

            return (
                <div className="container mx-auto px-4 py-8 max-w-6xl">
                    
                    {/* Ìó§Îçî */}
                    <div className="glass rounded-2xl p-6 mb-8 fade-in card-hover">
                        <h1 className="text-2xl md:text-3xl font-bold text-gray-800 text-center">
                            Simple Cupping Form
                        </h1>
                    </div>

                    {/* Í∏∞Î≥∏ Ï†ïÎ≥¥ */}
                    <div className="glass rounded-2xl p-6 mb-6 slide-up card-hover no-scroll-on-focus" style={{animationDelay: '0.2s'}}>
                        <div className="flex items-center mb-6">
                            <div className="w-10 h-10 bg-sage-green rounded-xl flex items-center justify-center mr-3">
                                <span className="text-white text-lg">üìã</span>
                            </div>
                            <h2 className="text-xl font-semibold text-gray-800">Í∏∞Î≥∏ Ï†ïÎ≥¥</h2>
                        </div>
                        
                        <div className="space-y-4">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Î°úÏä§ÌåÖ ÎÇ†Ïßú</label>
                                    <input 
                                        type="date" 
                                        name="roastingDate"
                                        value={formData.roastingDate}
                                        onChange={handleInputChange}
                                        className="w-full p-3 bg-white/50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sage-green transition-all duration-300"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Ïª§Ìïë ÎÇ†Ïßú</label>
                                    <input 
                                        type="date"
                                        name="cuppingDate"
                                        value={formData.cuppingDate}
                                        onChange={handleInputChange}
                                        className="w-full p-3 bg-white/50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sage-green transition-all duration-300"
                                    />
                                </div>
                            </div>
                            
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Ïù¥Î¶Ñ or ID</label>
                                <input 
                                    type="text"
                                    name="userId"
                                    value={formData.userId}
                                    onChange={handleInputChange}
                                    placeholder="Ïù¥Î¶Ñ ÎòêÎäî IDÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
                                    autoComplete="off"
                                    className="w-full p-3 bg-white/50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sage-green transition-all duration-300"
                                />
                            </div>
                            
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Ïª§Ìîº Ï†ïÎ≥¥</label>
                                <input 
                                    type="text"
                                    name="coffeeName"
                                    value={formData.coffeeName}
                                    onChange={handleInputChange}
                                    placeholder="Ïª§ÌîºÏù¥Î¶Ñ, ÎÜçÏû•Î™Ö, ÌîÑÎ°úÏÑ∏Ïã± Îì±"
                                    className="w-full p-3 bg-white/50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sage-green transition-all duration-300"
                                />
                            </div>
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Î∞∞Ï∂úÏãúÍ∞ÑÍ≥º Ïò®ÎèÑ</label>
                                    <input 
                                        type="text"
                                        name="dropTime"
                                        value={formData.dropTime}
                                        onChange={handleInputChange}
                                        placeholder="Ïòà: 12:30 / 204¬∞C"
                                        className="w-full p-3 bg-white/50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sage-green transition-all duration-300"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Agtron#</label>
                                    <input 
                                        type="text"
                                        name="agtronNumber"
                                        value={formData.agtronNumber}
                                        onChange={handleInputChange}
                                        placeholder="Ïòà: 65"
                                        className="w-full p-3 bg-white/50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sage-green transition-all duration-300"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* ÌèâÍ∞Ä Ìï≠Î™© (15Îã®Í≥Ñ) */}
                    <div className="glass rounded-2xl p-6 mt-6 slide-up card-hover" style={{animationDelay: '0.6s'}}>
                        <div className="flex items-center mb-6">
                            <div className="w-10 h-10 bg-sage-green rounded-xl flex items-center justify-center mr-3">
                                <span className="text-white text-lg">‚≠ê</span>
                            </div>
                            <h2 className="text-xl font-semibold text-gray-800">ÌèâÍ∞Ä Ìï≠Î™© (15Îã®Í≥Ñ)</h2>
                        </div>
                        
                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            {Object.entries(scores).map(([category, value]) => (
                                <div key={category} className="space-y-3">
                                    <div className="flex justify-between items-center">
                                        <label className="text-lg font-medium text-gray-800">
                                            {scoreLabels[category]}
                                        </label>
                                        <span className="text-2xl font-bold text-sage-green">{value}</span>
                                    </div>
                                    <p className="text-sm text-gray-600 mb-3">{scoreDescriptions[category]}</p>
                                    <input 
                                        type="range" 
                                        min="1" 
                                        max="15" 
                                        value={value} 
                                        onChange={(e) => handleScoreChange(category, e.target.value)}
                                        className="w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"
                                    />
                                    <div className="flex justify-between text-xs text-gray-600">
                                        <span>1 (Îß§Ïö∞ ÏïΩÌï®)</span>
                                        <span>8 (Î≥¥ÌÜµ)</span>
                                        <span>15 (Îß§Ïö∞ Í∞ïÌï®)</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Ìñ•ÎØ∏ Ìú† */}
                    <div className="glass rounded-2xl p-6 mt-6 slide-up card-hover" style={{animationDelay: '0.8s'}}>
                        <div className="flex items-center mb-6">
                            <div className="w-10 h-10 bg-forest-green rounded-xl flex items-center justify-center mr-3">
                                <span className="text-white text-lg">üå∏</span>
                            </div>
                            <h2 className="text-xl font-semibold text-gray-800">Ìñ•ÎØ∏ ÌäπÏÑ± (Aroma Wheel)</h2>
                        </div>
                        
                        <div className="space-y-3">
                            {Object.entries(aromaWheel).map(([category, aromas]) => (
                                <div key={category} className="border border-gray-200 rounded-xl overflow-hidden">
                                    <button 
                                        onClick={() => handleCategoryClick(category)}
                                        className="w-full text-left p-4 hover:bg-gray-50 focus:outline-none transition-colors duration-200 flex justify-between items-center"
                                    >
                                        <span className="font-medium text-gray-800">{category}</span>
                                        <span className={`transform transition-transform duration-200 ${expandedCategory === category ? 'rotate-180' : ''}`}>
                                            ‚ñº
                                        </span>
                                    </button>
                                    
                                    {expandedCategory === category && (
                                        <div className="p-4 bg-gray-50 border-t">
                                            <div className="flex flex-wrap gap-2 mb-4">
                                                {aromas.map(aroma => (
                                                    <button 
                                                        key={aroma}
                                                        onClick={(e) => handleAromaSelectWithScroll(aroma, e)}
                                                        className={`px-3 py-2 rounded-full text-sm transition-all duration-300 ${
                                                            selectedAromas.includes(aroma) 
                                                                ? 'bg-sage-green text-white shadow-md' 
                                                                : 'bg-white text-gray-700 border border-gray-300 hover:bg-sage-green hover:text-white'
                                                        }`}
                                                    >
                                                        {aroma}
                                                    </button>
                                                ))}
                                            </div>
                                            <textarea 
                                                value={customNotes[category]}
                                                onChange={(e) => handleCustomNotesChange(category, e.target.value)}
                                                placeholder={`${category} Í¥ÄÎ†® ÏÉÅÏÑ∏ ÎÖ∏Ìä∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...`}
                                                className="w-full p-3 border border-gray-200 rounded-lg h-20 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-sage-green transition-all duration-300"
                                            />
                                        </div>
                                    )}
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* ÏÑ†ÌÉùÎêú Ìñ•ÎØ∏ ÌëúÏãú */}
                    {selectedAromas.length > 0 && (
                        <div className="glass rounded-2xl p-6 mt-6 slide-up card-hover border-l-4 border-sage-green">
                            <h3 className="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                                <span className="mr-2">üéØ</span>
                                Í∞êÏßÄÎêú Ï£ºÏöî Ìñ•ÎØ∏ ({selectedAromas.length}Í∞ú)
                            </h3>
                            <div className="flex flex-wrap gap-2">
                                {selectedAromas.map(aroma => (
                                    <span 
                                        key={aroma} 
                                        className="px-3 py-2 bg-green-100 text-sage-green rounded-full text-sm font-medium border border-green-200"
                                    >
                                        {aroma}
                                    </span>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* Î©îÎ™® ÏÑπÏÖò */}
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
                        <div className="glass rounded-2xl p-6 slide-up card-hover" style={{animationDelay: '1s'}}>
                            <div className="flex items-center mb-4">
                                <div className="w-8 h-8 bg-sage-green rounded-lg flex items-center justify-center mr-3">
                                    <span className="text-white text-sm">üìù</span>
                                </div>
                                <h2 className="text-lg font-semibold text-gray-800">Ï∂îÍ∞Ä Î©îÎ™®</h2>
                            </div>
                            <textarea 
                                value={notes}
                                onChange={(e) => setNotes(e.target.value)}
                                placeholder="Ï†ÑÏ≤¥Ï†ÅÏù∏ Ïù∏ÏÉÅ, ÏßàÍ∞ê, Î∞∏Îü∞Ïä§ Îì±ÏùÑ ÏûêÏú†Î°≠Í≤å Í∏∞Î°ùÌï¥Ï£ºÏÑ∏Ïöî..."
                                className="w-full h-32 p-3 border border-gray-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-sage-green transition-all duration-300"
                            />
                        </div>

                        <div className="glass rounded-2xl p-6 slide-up card-hover" style={{animationDelay: '1.2s'}}>
                            <div className="flex items-center mb-4">
                                <div className="w-8 h-8 bg-forest-green rounded-lg flex items-center justify-center mr-3">
                                    <span className="text-white text-sm">üî•</span>
                                </div>
                                <h2 className="text-lg font-semibold text-gray-800">Î°úÏä§ÌåÖ ÎÖ∏Ìä∏</h2>
                            </div>
                            <textarea 
                                value={roastingNotes}
                                onChange={(e) => setRoastingNotes(e.target.value)}
                                placeholder="Î°úÏä§ÌåÖ ÌîÑÎ°úÌååÏùº, ÌäπÏù¥ÏÇ¨Ìï≠, Í∞úÏÑ† Î∞©Ìñ• Îì±ÏùÑ Í∏∞Î°ùÌï¥Ï£ºÏÑ∏Ïöî..."
                                className="w-full h-32 p-3 border border-gray-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-sage-green transition-all duration-300"
                            />
                        </div>
                    </div>

                    {/* ÏûêÎèô Ï∂îÏ≤ú ÏãúÏä§ÌÖú */}
                    <div className="glass rounded-2xl p-6 mt-6 slide-up card-hover bg-gradient-to-r from-green-50 to-blue-50" style={{animationDelay: '1.4s'}}>
                        <div className="flex items-center mb-4">
                            <div className="w-8 h-8 bg-warm-gray rounded-lg flex items-center justify-center mr-3">
                                <span className="text-white text-sm">ü§ñ</span>
                            </div>
                            <h2 className="text-lg font-semibold text-gray-800">AI Î°úÏä§ÌåÖ Ï∂îÏ≤ú</h2>
                        </div>
                        <div className="bg-white/70 rounded-lg p-4 border border-green-200">
                            <p className="text-sm text-gray-800">
                                <strong className="text-forest-green">ÌòÑÏû¨ Î∂ÑÏÑù Í≤∞Í≥º:</strong> {getRecommendation()}
                            </p>
                        </div>
                    </div>

                    {/* Ï†ÄÏû• Î≤ÑÌäº Î∞è ÏÉÅÌÉú */}
                    <div className="mt-8 text-center slide-up" style={{animationDelay: '1.6s'}}>
                        <div className="flex flex-col sm:flex-row gap-4 justify-center items-center">
                            <button
                                onClick={handleSave}
                                disabled={isSubmitting}
                                className={`px-8 py-4 font-semibold rounded-2xl shadow-lg transition-all duration-300 transform ${
                                    isSubmitting 
                                        ? 'bg-gray-400 cursor-not-allowed' 
                                        : 'bg-white text-gray-800 border border-gray-200 hover:bg-gray-100 hover:scale-105'
                                }`}
                            >
                                {isSubmitting ? (
                                    <span className="flex items-center">
                                        <span className="animate-spin mr-2">‚è≥</span>
                                        Ï†ÄÏû• Ï§ë...
                                    </span>
                                ) : (
                                    <span className="flex items-center">
                                        <span className="mr-2">üíæ</span>
                                        Ïª§Ìïë Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû•
                                    </span>
                                )}
                            </button>
                            
                            <button
                                onClick={resetForm}
                                className="px-6 py-3 bg-gray-500 text-white font-medium rounded-xl hover:bg-gray-600 transition-colors duration-300"
                            >
                                üîÑ Ìèº Ï¥àÍ∏∞Ìôî
                            </button>
                        </div>
                        
                        {statusMessage && (
                            <div className={`mt-4 p-3 rounded-lg text-sm ${
                                statusMessage.includes('ÏÑ±Í≥µ') 
                                    ? 'bg-green-100 text-green-700 border border-green-200' 
                                    : statusMessage.includes('Ïò§Î•ò') || statusMessage.includes('Ïã§Ìå®')
                                    ? 'bg-red-100 text-red-700 border border-red-200'
                                    : 'bg-blue-100 text-blue-700 border border-blue-200'
                            }`}>
                                {statusMessage}
                            </div>
                        )}
                    </div>

                    {/* Í≤∞Í≥º ÏöîÏïΩ */}
                    {showSummary && <ResultSummary data={summaryData} />}

                </div>
            );
        };

        // React Ïï± Î†åÎçîÎßÅ
        const rootElement = document.getElementById('root');
        if (rootElement) {
            const root = ReactDOM.createRoot(rootElement);
            root.render(<SimpleCuppingForm />);
        } else {
            console.error("Root element with id 'root' not found.");
        }
    </script>
</body>
</html>
